{
  "id": "flow-06",
  "title": "Nested Conditionals",
  "category": "Control Flow",
  "number": 33,
  "duration": "6 min read",
  "content": "## What are Nested Conditionals?\n\nNested conditionals are `if` statements inside other `if` statements. They allow you to check conditions that depend on other conditions being true first.\n\n## Basic Nesting\n\n```python\nage = 25\nhas_ticket = True\n\nif age >= 18:\n    print(\"Age verified\")\n    if has_ticket:\n        print(\"Access granted!\")\n    else:\n        print(\"Please buy a ticket\")\nelse:\n    print(\"Sorry, adults only\")\n```\n\n## Indentation Levels\n\nEach nesting level adds more indentation:\n\n```python\nif condition1:\n    # Level 1 (4 spaces)\n    if condition2:\n        # Level 2 (8 spaces)\n        if condition3:\n            # Level 3 (12 spaces)\n            print(\"All conditions met\")\n```\n\n## Multiple Nested Levels\n\n```python\nuser_type = \"premium\"\nbalance = 100\nitem_price = 50\n\nif user_type == \"premium\":\n    print(\"Welcome, premium user!\")\n    if balance >= item_price:\n        discount = item_price * 0.2\n        final_price = item_price - discount\n        if final_price < 10:\n            print(\"Minimum order is $10\")\n        else:\n            print(f\"Price after discount: ${final_price}\")\n    else:\n        print(\"Insufficient balance\")\nelse:\n    print(\"Upgrade to premium for discounts!\")\n```\n\n## When to Use Nested Conditionals\n\n### Hierarchical Decisions\n\n```python\nis_employee = True\ndepartment = \"engineering\"\nrole = \"manager\"\n\nif is_employee:\n    print(\"Employee access granted\")\n    if department == \"engineering\":\n        print(\"Engineering floor access\")\n        if role == \"manager\":\n            print(\"Server room access\")\n```\n\n### Multi-Step Validation\n\n```python\nusername = \"alice\"\npassword = \"secret123\"\nis_active = True\n\nif username:\n    if password:\n        if is_active:\n            print(\"Login successful\")\n        else:\n            print(\"Account deactivated\")\n    else:\n        print(\"Password required\")\nelse:\n    print(\"Username required\")\n```\n\n## Alternatives to Deep Nesting\n\nDeeply nested code can be hard to read. Here are alternatives:\n\n### Using Logical Operators\n\n```python\n# Instead of:\nif condition1:\n    if condition2:\n        if condition3:\n            do_something()\n\n# Use:\nif condition1 and condition2 and condition3:\n    do_something()\n```\n\n### Early Returns (in functions)\n\n```python\n# Instead of:\ndef process(user):\n    if user:\n        if user.is_active:\n            if user.has_permission:\n                return \"Success\"\n            else:\n                return \"No permission\"\n        else:\n            return \"Inactive\"\n    else:\n        return \"No user\"\n\n# Use early returns:\ndef process(user):\n    if not user:\n        return \"No user\"\n    if not user.is_active:\n        return \"Inactive\"\n    if not user.has_permission:\n        return \"No permission\"\n    return \"Success\"\n```\n\n### Guard Clauses\n\n```python\ndef calculate_shipping(weight, distance, is_express):\n    # Guard clauses handle edge cases first\n    if weight <= 0:\n        return 0\n    if distance <= 0:\n        return 0\n    \n    # Main logic with less nesting\n    base_cost = weight * 0.5 + distance * 0.1\n    if is_express:\n        return base_cost * 2\n    return base_cost\n```\n\n## Practical Examples\n\n### ATM Withdrawal\n\n```python\npin_correct = True\nbalance = 500\nwithdrawal = 100\n\nif pin_correct:\n    print(\"PIN verified\")\n    if withdrawal <= balance:\n        if withdrawal % 20 == 0:  # ATM gives $20 bills\n            balance -= withdrawal\n            print(f\"Dispensing ${withdrawal}\")\n            print(f\"New balance: ${balance}\")\n        else:\n            print(\"Amount must be multiple of $20\")\n    else:\n        print(\"Insufficient funds\")\nelse:\n    print(\"Incorrect PIN\")\n```\n\n### Game Logic\n\n```python\nplayer_alive = True\nhas_key = True\ndoor_locked = True\n\nif player_alive:\n    print(\"You approach the door...\")\n    if door_locked:\n        if has_key:\n            print(\"You unlock the door with your key!\")\n            print(\"You enter the next room.\")\n        else:\n            print(\"The door is locked. Find a key!\")\n    else:\n        print(\"The door is open. You walk through.\")\nelse:\n    print(\"Game Over\")\n```\n\n### User Registration\n\n```python\nemail = \"user@example.com\"\npassword = \"secure123\"\nconfirm = \"secure123\"\n\nif email and \"@\" in email:\n    print(\"Valid email format\")\n    if len(password) >= 8:\n        print(\"Password length OK\")\n        if password == confirm:\n            print(\"Registration successful!\")\n        else:\n            print(\"Passwords don't match\")\n    else:\n        print(\"Password too short\")\nelse:\n    print(\"Invalid email\")\n```\n\n## Best Practices\n\n1. **Limit nesting depth** - More than 3 levels becomes hard to read\n2. **Use early returns** - Exit early from functions to reduce nesting\n3. **Combine conditions** - Use `and`/`or` when appropriate\n4. **Extract to functions** - Move nested logic to separate functions\n5. **Add comments** - Explain complex nested logic\n\n## Summary\n\n- Nested conditionals check conditions inside other conditions\n- Each level adds one indentation (4 spaces)\n- Useful for hierarchical decisions and multi-step validation\n- Avoid deep nesting by using logical operators or early returns\n- Keep code readable by limiting nesting levels",
  "code": "# Nested Conditionals in Python\n\n# Basic nesting example\nprint(\"--- Concert Entry ---\")\nage = 21\nhas_ticket = True\nis_vip = False\n\nif age >= 18:\n    print(\"Age verified\")\n    if has_ticket:\n        print(\"Ticket verified\")\n        if is_vip:\n            print(\"VIP entrance this way!\")\n        else:\n            print(\"General admission entrance\")\n    else:\n        print(\"No ticket - please purchase one\")\nelse:\n    print(\"Sorry, 18+ only\")\n\n# Practical: Login system\nprint(\"\\n--- Login System ---\")\nusername = \"admin\"\npassword = \"secret\"\naccount_active = True\n\nif username == \"admin\":\n    if password == \"secret\":\n        if account_active:\n            print(\"Welcome, admin!\")\n        else:\n            print(\"Account suspended\")\n    else:\n        print(\"Wrong password\")\nelse:\n    print(\"User not found\")\n\n# Alternative with combined conditions\nprint(\"\\n--- Simplified Version ---\")\nif username == \"admin\" and password == \"secret\" and account_active:\n    print(\"Login successful!\")\nelse:\n    print(\"Login failed\")"
}
