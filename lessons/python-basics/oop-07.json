{
  "id": "oop-07",
  "title": "Class Methods",
  "category": "Object-Oriented Programming",
  "number": 64,
  "duration": "8 min read",
  "content": "## What are Class Methods?\n\nClass methods are methods that are bound to the class rather than its instances. They receive the class as the first argument (`cls`) instead of an instance (`self`).\n\n```python\nclass MyClass:\n    @classmethod\n    def my_class_method(cls):\n        print(f\"Called on: {cls}\")\n\nMyClass.my_class_method()  # Called on: <class '__main__.MyClass'>\n```\n\n## Defining Class Methods\n\nUse the `@classmethod` decorator:\n\n```python\nclass Dog:\n    species = \"Canis familiaris\"\n    \n    def __init__(self, name):\n        self.name = name\n    \n    @classmethod\n    def get_species(cls):\n        return cls.species\n    \n    @classmethod\n    def create_puppy(cls, name):\n        return cls(name + \" Jr.\")\n\nprint(Dog.get_species())  # Canis familiaris\npuppy = Dog.create_puppy(\"Buddy\")\nprint(puppy.name)  # Buddy Jr.\n```\n\n## The `cls` Parameter\n\n`cls` refers to the class itself, allowing access to class attributes and methods:\n\n```python\nclass Counter:\n    count = 0\n    \n    @classmethod\n    def increment(cls):\n        cls.count += 1\n    \n    @classmethod\n    def get_count(cls):\n        return cls.count\n\nCounter.increment()\nCounter.increment()\nprint(Counter.get_count())  # 2\n```\n\n## Alternative Constructors\n\nA common use of class methods is creating alternative ways to instantiate a class:\n\n```python\nclass Date:\n    def __init__(self, year, month, day):\n        self.year = year\n        self.month = month\n        self.day = day\n    \n    @classmethod\n    def from_string(cls, date_string):\n        \"\"\"Create Date from 'YYYY-MM-DD' string\"\"\"\n        year, month, day = map(int, date_string.split('-'))\n        return cls(year, month, day)\n    \n    @classmethod\n    def today(cls):\n        \"\"\"Create Date for current date\"\"\"\n        import datetime\n        t = datetime.date.today()\n        return cls(t.year, t.month, t.day)\n    \n    def __str__(self):\n        return f\"{self.year}-{self.month:02d}-{self.day:02d}\"\n\n# Different ways to create Date objects\ndate1 = Date(2024, 12, 25)\ndate2 = Date.from_string(\"2024-07-04\")\ndate3 = Date.today()\n\nprint(date1)  # 2024-12-25\nprint(date2)  # 2024-07-04\n```\n\n## Factory Methods\n\n```python\nclass Pizza:\n    def __init__(self, size, toppings):\n        self.size = size\n        self.toppings = toppings\n    \n    @classmethod\n    def margherita(cls, size=\"medium\"):\n        return cls(size, [\"tomato\", \"mozzarella\", \"basil\"])\n    \n    @classmethod\n    def pepperoni(cls, size=\"medium\"):\n        return cls(size, [\"tomato\", \"mozzarella\", \"pepperoni\"])\n    \n    @classmethod\n    def vegetarian(cls, size=\"medium\"):\n        return cls(size, [\"tomato\", \"mozzarella\", \"peppers\", \"mushrooms\", \"olives\"])\n\n# Create pizzas using factory methods\npizza1 = Pizza.margherita(\"large\")\npizza2 = Pizza.pepperoni()\n\nprint(pizza1.toppings)  # ['tomato', 'mozzarella', 'basil']\n```\n\n## Working with Inheritance\n\nClass methods work correctly with inheritance:\n\n```python\nclass Animal:\n    @classmethod\n    def create(cls, name):\n        return cls(name)\n\nclass Dog(Animal):\n    def __init__(self, name):\n        self.name = name\n        self.sound = \"Woof\"\n\nclass Cat(Animal):\n    def __init__(self, name):\n        self.name = name\n        self.sound = \"Meow\"\n\n# cls becomes the actual subclass\ndog = Dog.create(\"Buddy\")  # cls is Dog\ncat = Cat.create(\"Whiskers\")  # cls is Cat\n\nprint(type(dog))  # <class '__main__.Dog'>\nprint(type(cat))  # <class '__main__.Cat'>\n```\n\n## Class Method vs Instance Method\n\n| Feature | Class Method | Instance Method |\n|---------|--------------|----------------|\n| Decorator | `@classmethod` | None |\n| First parameter | `cls` (class) | `self` (instance) |\n| Access to | Class attributes | Instance + class attributes |\n| Can modify | Class state | Instance state |\n| Called on | Class or instance | Instance |\n\n## Calling Class Methods\n\n```python\nclass Example:\n    @classmethod\n    def class_method(cls):\n        print(\"Class method called\")\n\n# Can call on class\nExample.class_method()\n\n# Can also call on instance\nobj = Example()\nobj.class_method()  # Still works, cls is Example\n```",
  "code": "# Class Methods - Practice\n\nclass User:\n    users = []\n    next_id = 1\n    \n    def __init__(self, username, email):\n        self.id = User.next_id\n        self.username = username\n        self.email = email\n        User.next_id += 1\n        User.users.append(self)\n    \n    @classmethod\n    def from_dict(cls, data):\n        \"\"\"Create user from dictionary\"\"\"\n        return cls(data['username'], data['email'])\n    \n    @classmethod\n    def from_string(cls, user_string):\n        \"\"\"Create user from 'username:email' string\"\"\"\n        username, email = user_string.split(':')\n        return cls(username.strip(), email.strip())\n    \n    @classmethod\n    def find_by_id(cls, user_id):\n        \"\"\"Find user by ID\"\"\"\n        for user in cls.users:\n            if user.id == user_id:\n                return user\n        return None\n    \n    @classmethod\n    def find_by_username(cls, username):\n        \"\"\"Find user by username\"\"\"\n        for user in cls.users:\n            if user.username == username:\n                return user\n        return None\n    \n    @classmethod\n    def count(cls):\n        return len(cls.users)\n    \n    def __str__(self):\n        return f\"User({self.id}: {self.username}, {self.email})\"\n\n# Create users in different ways\nuser1 = User(\"alice\", \"alice@example.com\")\nuser2 = User.from_dict({\"username\": \"bob\", \"email\": \"bob@example.com\"})\nuser3 = User.from_string(\"charlie : charlie@example.com\")\n\n# Display all users\nprint(\"All Users:\")\nfor user in User.users:\n    print(f\"  {user}\")\n\n# Use class methods to find users\nprint(f\"\\nTotal users: {User.count()}\")\n\nfound = User.find_by_username(\"bob\")\nprint(f\"Found: {found}\")\n\nfound = User.find_by_id(3)\nprint(f\"Found by ID: {found}\")"
}
