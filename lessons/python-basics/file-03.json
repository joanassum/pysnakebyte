{
  "id": "file-03",
  "title": "Writing Files",
  "category": "File Handling",
  "number": 75,
  "duration": "7 min read",
  "content": "## Writing Files in Python\n\nWriting to files allows you to persist data, create logs, generate reports, and save program output. Python provides several methods for writing data to files.\n\n## The write() Method\n\nWrites a string to the file:\n\n```python\n# Open file in write mode\nfile = open('output.txt', 'w')\n\n# Write a string\nfile.write('Hello, World!')\n\n# Write another line (must add newline manually)\nfile.write('\\nThis is the second line.')\n\nfile.close()\n```\n\n## The writelines() Method\n\nWrites a list of strings to the file:\n\n```python\nfile = open('output.txt', 'w')\n\nlines = [\n    'First line\\n',\n    'Second line\\n',\n    'Third line\\n'\n]\n\nfile.writelines(lines)\nfile.close()\n```\n\n## Write Mode vs Append Mode\n\n```python\n# Write mode ('w') - Creates new or OVERWRITES existing\nfile = open('data.txt', 'w')\nfile.write('This replaces everything!')\nfile.close()\n\n# Append mode ('a') - Adds to end of file\nfile = open('data.txt', 'a')\nfile.write('\\nThis is appended.')\nfile.close()\n```\n\n## Writing with print()\n\nYou can redirect print() to a file:\n\n```python\nfile = open('output.txt', 'w')\n\n# Print to file instead of console\nprint('Hello, file!', file=file)\nprint('Line 2', file=file)\nprint('Value:', 42, file=file)\n\nfile.close()\n```\n\n## Writing Different Data Types\n\n```python\nfile = open('data.txt', 'w')\n\n# Strings\nfile.write('Name: Alice\\n')\n\n# Numbers (must convert to string)\nage = 30\nfile.write(f'Age: {age}\\n')\n\n# Lists (formatted)\nscores = [85, 92, 78, 95]\nfile.write(f'Scores: {scores}\\n')\n\n# Using f-strings for formatting\nfile.write(f'Average: {sum(scores)/len(scores):.2f}\\n')\n\nfile.close()\n```\n\n## Writing Binary Files\n\n```python\n# Write binary data\ndata = bytes([0x48, 0x65, 0x6C, 0x6C, 0x6F])  # 'Hello'\n\nfile = open('binary.bin', 'wb')\nfile.write(data)\nfile.close()\n\n# Copy a binary file\nwith open('source.png', 'rb') as src:\n    with open('copy.png', 'wb') as dst:\n        dst.write(src.read())\n```\n\n## Buffering and Flushing\n\n```python\nfile = open('log.txt', 'w')\n\nfile.write('Starting process...\\n')\nfile.flush()  # Force write to disk immediately\n\n# Continue writing\nfile.write('Process complete.\\n')\nfile.close()  # Also flushes buffer\n```\n\n## Practical Examples\n\n### Creating a Log File\n\n```python\nfrom datetime import datetime\n\ndef log_message(message):\n    file = open('app.log', 'a')\n    timestamp = datetime.now().strftime('%Y-%m-%d %H:%M:%S')\n    file.write(f'[{timestamp}] {message}\\n')\n    file.close()\n\nlog_message('Application started')\nlog_message('User logged in')\nlog_message('Processing data')\n```\n\n### Writing a Report\n\n```python\ndata = {\n    'title': 'Monthly Sales Report',\n    'total': 15750.50,\n    'items_sold': 342,\n    'top_product': 'Widget Pro'\n}\n\nfile = open('report.txt', 'w')\nfile.write('=' * 40 + '\\n')\nfile.write(f\"{data['title']:^40}\\n\")\nfile.write('=' * 40 + '\\n\\n')\nfile.write(f\"Total Sales: ${data['total']:,.2f}\\n\")\nfile.write(f\"Items Sold: {data['items_sold']}\\n\")\nfile.write(f\"Top Product: {data['top_product']}\\n\")\nfile.close()\n```\n\n### Writing CSV-like Data\n\n```python\nusers = [\n    ('Alice', 28, 'alice@email.com'),\n    ('Bob', 35, 'bob@email.com'),\n    ('Charlie', 42, 'charlie@email.com')\n]\n\nfile = open('users.txt', 'w')\nfile.write('Name,Age,Email\\n')  # Header\n\nfor name, age, email in users:\n    file.write(f'{name},{age},{email}\\n')\n\nfile.close()\n```\n\n## Error Handling When Writing\n\n```python\ntry:\n    file = open('/readonly/file.txt', 'w')\n    file.write('data')\nexcept PermissionError:\n    print('Cannot write - permission denied')\nexcept IOError as e:\n    print(f'IO Error: {e}')\nfinally:\n    if 'file' in locals() and not file.closed:\n        file.close()\n```\n\n## Write Return Value\n\n```python\nfile = open('data.txt', 'w')\n\n# write() returns number of characters written\nchars_written = file.write('Hello, World!')\nprint(f'Wrote {chars_written} characters')  # 13\n\nfile.close()\n```",
  "code": "# Writing Files in Python\n\n# Example 1: Basic write() method\nprint(\"=== Basic write() ===\")\nfile = open('output.txt', 'w')\nchars = file.write('Hello, Python!\\n')\nfile.write('Writing to files is easy!\\n')\nfile.write('Third line here.')\nfile.close()\nprint(f\"Wrote {chars} chars in first write\")\n\n# Read back to verify\nwith open('output.txt', 'r') as f:\n    print(f.read())\n\n# Example 2: writelines() method\nprint(\"\\n=== writelines() ===\")\nlines = [\n    'Line 1: Apple\\n',\n    'Line 2: Banana\\n',\n    'Line 3: Cherry\\n'\n]\nfile = open('fruits.txt', 'w')\nfile.writelines(lines)\nfile.close()\n\nwith open('fruits.txt', 'r') as f:\n    print(f.read())\n\n# Example 3: Append mode\nprint(\"=== Append Mode ===\")\nfile = open('fruits.txt', 'a')\nfile.write('Line 4: Date\\n')\nfile.write('Line 5: Elderberry\\n')\nfile.close()\n\nwith open('fruits.txt', 'r') as f:\n    print(f.read())\n\n# Example 4: Using print() with file\nprint(\"=== Using print() ===\")\nfile = open('printed.txt', 'w')\nprint('This is printed to file', file=file)\nprint('Value:', 42, file=file)\nprint('List:', [1, 2, 3], file=file)\nfile.close()\n\nwith open('printed.txt', 'r') as f:\n    print(f.read())\n\n# Example 5: Writing formatted data\nprint(\"=== Formatted Data ===\")\nproducts = [\n    ('Laptop', 999.99, 5),\n    ('Mouse', 29.99, 50),\n    ('Keyboard', 79.99, 25)\n]\n\nfile = open('inventory.txt', 'w')\nfile.write(f\"{'Product':<15}{'Price':>10}{'Stock':>8}\\n\")\nfile.write('-' * 33 + '\\n')\nfor name, price, stock in products:\n    file.write(f\"{name:<15}${price:>9.2f}{stock:>8}\\n\")\nfile.close()\n\nwith open('inventory.txt', 'r') as f:\n    print(f.read())\n\n# Clean up\nimport os\nfor f in ['output.txt', 'fruits.txt', 'printed.txt', 'inventory.txt']:\n    os.remove(f)\nprint(\"Cleaned up temporary files.\")"
}
