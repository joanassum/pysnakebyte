{
  "id": "oop-06",
  "title": "Class Attributes",
  "category": "Object-Oriented Programming",
  "number": 63,
  "duration": "7 min read",
  "content": "## What are Class Attributes?\n\nClass attributes are variables that belong to the class itself, not to any specific instance. They are shared among all instances of the class.\n\n```python\nclass Dog:\n    species = \"Canis familiaris\"  # Class attribute\n    \n    def __init__(self, name):\n        self.name = name  # Instance attribute\n\ndog1 = Dog(\"Buddy\")\ndog2 = Dog(\"Max\")\n\n# Class attribute is shared\nprint(dog1.species)  # Canis familiaris\nprint(dog2.species)  # Canis familiaris\nprint(Dog.species)   # Canis familiaris\n```\n\n## Defining Class Attributes\n\nClass attributes are defined directly in the class body, outside of any method:\n\n```python\nclass Circle:\n    # Class attributes\n    pi = 3.14159\n    default_color = \"black\"\n    \n    def __init__(self, radius):\n        self.radius = radius  # Instance attribute\n    \n    def area(self):\n        return Circle.pi * self.radius ** 2\n```\n\n## Accessing Class Attributes\n\n```python\nclass Car:\n    wheels = 4\n    manufacturer = \"Generic\"\n\n# Access via class\nprint(Car.wheels)  # 4\n\n# Access via instance\ncar = Car()\nprint(car.wheels)  # 4\n\n# Both point to same value\nprint(Car.wheels is car.wheels)  # True\n```\n\n## Modifying Class Attributes\n\n### Modifying via the Class\n\n```python\nclass Settings:\n    theme = \"light\"\n    language = \"en\"\n\nprint(Settings.theme)  # light\n\n# Change for entire class\nSettings.theme = \"dark\"\nprint(Settings.theme)  # dark\n\n# All instances see the change\nconfig = Settings()\nprint(config.theme)  # dark\n```\n\n### Caution with Instance Modification\n\n```python\nclass Counter:\n    count = 0\n\nc1 = Counter()\nc2 = Counter()\n\n# This creates an instance attribute, doesn't modify class!\nc1.count = 10\n\nprint(c1.count)       # 10 (instance attribute)\nprint(c2.count)       # 0  (class attribute)\nprint(Counter.count)  # 0  (class attribute)\n```\n\n## Common Use Cases\n\n### Constants\n\n```python\nclass Math:\n    PI = 3.14159\n    E = 2.71828\n    GOLDEN_RATIO = 1.61803\n\nprint(Math.PI)  # 3.14159\n```\n\n### Tracking Instances\n\n```python\nclass User:\n    total_users = 0\n    \n    def __init__(self, username):\n        self.username = username\n        User.total_users += 1  # Modify via class name\n\nu1 = User(\"alice\")\nu2 = User(\"bob\")\nu3 = User(\"charlie\")\n\nprint(User.total_users)  # 3\n```\n\n### Default Values\n\n```python\nclass Product:\n    tax_rate = 0.08\n    currency = \"USD\"\n    \n    def __init__(self, name, price):\n        self.name = name\n        self.price = price\n    \n    def total_price(self):\n        return self.price * (1 + Product.tax_rate)\n\nlaptop = Product(\"Laptop\", 1000)\nprint(f\"Total: {laptop.total_price()}\")  # 1080.0\n```\n\n### Shared Resources\n\n```python\nclass DatabaseConnection:\n    connection_pool = []\n    max_connections = 10\n    \n    @classmethod\n    def add_connection(cls, conn):\n        if len(cls.connection_pool) < cls.max_connections:\n            cls.connection_pool.append(conn)\n```\n\n## Class vs Instance Attributes\n\n| Feature | Class Attribute | Instance Attribute |\n|---------|-----------------|-------------------|\n| Defined | In class body | In `__init__` or methods |\n| Belongs to | The class | Each instance |\n| Shared | Yes, among all instances | No, unique per instance |\n| Access | `ClassName.attr` or `self.attr` | `self.attr` |\n| Memory | Single copy | Copy per instance |\n\n## Mutable Class Attributes Warning\n\n```python\n# WRONG - shared mutable default\nclass BadExample:\n    items = []  # Shared among all instances!\n    \n    def add(self, item):\n        self.items.append(item)\n\n# RIGHT - instance attribute\nclass GoodExample:\n    def __init__(self):\n        self.items = []  # Unique per instance\n```",
  "code": "# Class Attributes - Practice\n\nclass Employee:\n    # Class attributes\n    company = \"TechCorp\"\n    employee_count = 0\n    all_employees = []\n    \n    def __init__(self, name, department, salary):\n        self.name = name\n        self.department = department\n        self.salary = salary\n        self.employee_id = Employee.employee_count + 1\n        \n        # Update class attributes\n        Employee.employee_count += 1\n        Employee.all_employees.append(self)\n    \n    def info(self):\n        print(f\"[{self.employee_id}] {self.name} - {self.department}\")\n    \n    @classmethod\n    def show_all(cls):\n        print(f\"\\nAll {cls.company} Employees ({cls.employee_count} total):\")\n        for emp in cls.all_employees:\n            emp.info()\n\n# Create employees\nemp1 = Employee(\"Alice\", \"Engineering\", 90000)\nemp2 = Employee(\"Bob\", \"Marketing\", 75000)\nemp3 = Employee(\"Charlie\", \"Engineering\", 85000)\n\n# Access class attributes\nprint(f\"Company: {Employee.company}\")\nprint(f\"Total employees: {Employee.employee_count}\")\n\n# All instances share the company name\nprint(f\"\\n{emp1.name} works at {emp1.company}\")\nprint(f\"{emp2.name} works at {emp2.company}\")\n\n# Show all employees\nEmployee.show_all()\n\n# Change company name - affects all instances\nEmployee.company = \"MegaTech\"\nprint(f\"\\nAfter rename:\")\nprint(f\"{emp1.name} works at {emp1.company}\")"
}
