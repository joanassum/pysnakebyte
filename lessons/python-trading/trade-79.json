{
  "id": "trade-79",
  "title": "Model Evaluation Metrics",
  "category": "Machine Learning for Trading",
  "number": 79,
  "duration": "12 min read",
  "content": "## Beyond Accuracy\n\nIn trading, 51% accuracy can be profitable or disastrous depending on the payout ratio. We need financial metrics.\n\n### Key Metrics\n\n1.  **Sharpe Ratio**: Risk-adjusted return. Excess return / Std Dev of return.\n2.  **Max Drawdown**: Maximum peak-to-trough decline. Measures downside risk.\n3.  **Profit Factor**: Gross Profit / Gross Loss.\n4.  **Win Rate**: % of profitable trades.\n\n### Confusion Matrix in Trading Context\n\n- **False Positive**: We bought, but price went down (Loss).\n- **False Negative**: We didn't buy, but price went up (Opportunity Cost).",
  "code": "import numpy as np\n\n# returns = pd.Series([...]) # Periodic returns of the strategy\n\n# Sharpe Ratio (Annualized)\n# risk_free_rate = 0.0\n# sharpe = np.sqrt(252) * (returns.mean() - risk_free_rate) / returns.std()\n\n# Max Drawdown\n# cum_returns = (1 + returns).cumprod()\n# peak = cum_returns.expanding(min_periods=1).max()\n# drawdown = (cum_returns / peak) - 1\n# max_dd = drawdown.min()\n\n# print(f\"Sharpe: {sharpe:.2f}, Max Drawdown: {max_dd:.2%}\")"
}
