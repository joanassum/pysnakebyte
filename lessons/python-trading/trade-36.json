{
  "id": "trade-36",
  "title": "Efficient Frontier",
  "category": "Quantitative Finance Basics",
  "number": 36,
  "duration": "10 min read",
  "content": "# Efficient Frontier\n\nModern Portfolio Theory (MPT) states that investors can construct a portfolio of assets that maximizes expected return for a given level of risk. The set of optimal portfolios that offer the highest expected return for a defined level of risk or the lowest risk for a given level of expected return is called the **Efficient Frontier**.\n\n## Key Concepts\n1. **Expected Return**: The weighted average of the expected returns of the assets.\n2. **Volatility (Risk)**: The standard deviation of the portfolio returns.\n3. **Sharpe Ratio**: A measure of risk-adjusted return.\n\nIn this lesson, we will simulate thousands of portfolios with random weights assigned to four stocks to visualize the efficient frontier.",
  "code": "import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# Mock data generation\nnp.random.seed(42)\ndates = pd.date_range(start='2020-01-01', periods=252)\ndata = pd.DataFrame(np.random.randn(252, 4) / 100 + 0.0005, index=dates, columns=['AAPL', 'GOOG', 'MSFT', 'AMZN'])\n\n# Calculate daily returns\nreturns = data\n\n# Simulation\nnum_portfolios = 5000\nall_weights = np.zeros((num_portfolios, len(data.columns)))\nret_arr = np.zeros(num_portfolios)\nvol_arr = np.zeros(num_portfolios)\nsharpe_arr = np.zeros(num_portfolios)\n\nfor x in range(num_portfolios):\n    # Weights\n    weights = np.array(np.random.random(4))\n    weights = weights / np.sum(weights)\n    \n    # Save weights\n    all_weights[x,:] = weights\n    \n    # Expected Return\n    ret_arr[x] = np.sum((returns.mean() * weights) * 252)\n    \n    # Expected Volatility\n    vol_arr[x] = np.sqrt(np.dot(weights.T, np.dot(returns.cov() * 252, weights)))\n    \n    # Sharpe Ratio (assuming risk-free rate = 0)\n    sharpe_arr[x] = ret_arr[x] / vol_arr[x]\n\n# Plotting\nplt.figure(figsize=(10,6))\nplt.scatter(vol_arr, ret_arr, c=sharpe_arr, cmap='viridis')\nplt.colorbar(label='Sharpe Ratio')\nplt.xlabel('Volatility')\nplt.ylabel('Return')\nplt.title('Efficient Frontier')\nplt.show() # In a real env, this would display the plot\n"
}